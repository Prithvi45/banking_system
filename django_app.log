Watching for file changes with StatReloader
"GET /api/accounts/transactions/history/cached/ HTTP/1.1" 200 2
"GET /api/accounts/transactions/history/cached/ HTTP/1.1" 200 2
/home/ubuntu/banking_system/accounts/serializers.py changed, reloading.
Watching for file changes with StatReloader
Internal Server Error: /api/accounts/transactions/history/
Traceback (most recent call last):
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/generics.py", line 203, in get
    return self.list(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/mixins.py", line 46, in list
    return Response(serializer.data)
                    ^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/serializers.py", line 795, in data
    ret = super().data
          ^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/serializers.py", line 249, in data
    self._data = self.to_representation(self.instance)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/serializers.py", line 714, in to_representation
    self.child.to_representation(item) for item in iterable
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/serializers.py", line 538, in to_representation
    ret[field.field_name] = field.to_representation(attribute)
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/fields.py", line 1870, in to_representation
    return method(value)
           ^^^^^^^^^^^^^
  File "/home/ubuntu/banking_system/accounts/serializers.py", line 66, in get_local_created_at
    user_timezone = timezone(self.context['request'].user.timezone)
                    ^^^^^^^^
NameError: name 'timezone' is not defined
"GET /api/accounts/transactions/history/ HTTP/1.1" 500 138322
/home/ubuntu/banking_system/accounts/serializers.py changed, reloading.
Watching for file changes with StatReloader
Internal Server Error: /api/accounts/transactions/history/
Traceback (most recent call last):
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/generics.py", line 203, in get
    return self.list(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/mixins.py", line 46, in list
    return Response(serializer.data)
                    ^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/serializers.py", line 795, in data
    ret = super().data
          ^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/serializers.py", line 249, in data
    self._data = self.to_representation(self.instance)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/serializers.py", line 714, in to_representation
    self.child.to_representation(item) for item in iterable
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/serializers.py", line 538, in to_representation
    ret[field.field_name] = field.to_representation(attribute)
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/fields.py", line 1870, in to_representation
    return method(value)
           ^^^^^^^^^^^^^
  File "/home/ubuntu/banking_system/accounts/serializers.py", line 69, in get_local_created_at
    user_timezone = timezone(self.context['request'].user.timezone)
                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'CustomUser' object has no attribute 'timezone'
"GET /api/accounts/transactions/history/ HTTP/1.1" 500 138600
/home/ubuntu/banking_system/accounts/models.py changed, reloading.
Watching for file changes with StatReloader
/home/ubuntu/banking_system/accounts/serializers.py changed, reloading.
Watching for file changes with StatReloader
/home/ubuntu/banking_system/accounts/serializers.py changed, reloading.
Watching for file changes with StatReloader
"GET /api/accounts/transactions/history/ HTTP/1.1" 200 11940
/home/ubuntu/banking_system/accounts/views.py changed, reloading.
Watching for file changes with StatReloader
/home/ubuntu/banking_system/accounts/urls.py changed, reloading.
Watching for file changes with StatReloader
"GET /api/accounts/transactions/history/ HTTP/1.1" 200 11940
"GET /api/accounts/transactions/history/ HTTP/1.1" 200 11940
Internal Server Error: /api/accounts/users/update-timezone/
Traceback (most recent call last):
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/banking_system/accounts/views.py", line 102, in post
    if timezone not in all_timezones:
                       ^^^^^^^^^^^^^
NameError: name 'all_timezones' is not defined
"POST /api/accounts/users/update-timezone/ HTTP/1.1" 500 89750
/home/ubuntu/banking_system/accounts/views.py changed, reloading.
Watching for file changes with StatReloader
Bad Request: /api/accounts/users/update-timezone/
"POST /api/accounts/users/update-timezone/ HTTP/1.1" 400 29
"POST /api/accounts/users/update-timezone/ HTTP/1.1" 200 44
/home/ubuntu/banking_system/accounts/models.py changed, reloading.
Watching for file changes with StatReloader
/home/ubuntu/banking_system/accounts/models.py changed, reloading.
Watching for file changes with StatReloader
/home/ubuntu/banking_system/accounts/models.py changed, reloading.
Watching for file changes with StatReloader
/home/ubuntu/banking_system/accounts/models.py changed, reloading.
Watching for file changes with StatReloader
Watching for file changes with StatReloader
/home/ubuntu/banking_system/banking_system/settings.py changed, reloading.
Watching for file changes with StatReloader
Unauthorized: /api/accounts/users/update-timezone/
"POST /api/accounts/users/update-timezone/ HTTP/1.1" 401 183
/home/ubuntu/banking_system/banking_system/settings.py changed, reloading.
Watching for file changes with StatReloader
"POST /api/accounts/loginwithkeys/ HTTP/1.1" 200 483
"GET /api/accounts/transactions/history/ HTTP/1.1" 200 12215
"GET /api/accounts/transactions/history/ HTTP/1.1" 200 12215
"GET /api/accounts/accounts/ HTTP/1.1" 200 216
/home/ubuntu/banking_system/accounts/serializers.py changed, reloading.
Watching for file changes with StatReloader
"GET /api/accounts/accounts/ HTTP/1.1" 200 238
/home/ubuntu/banking_system/accounts/serializers.py changed, reloading.
Watching for file changes with StatReloader
"GET /api/accounts/accounts/ HTTP/1.1" 200 264
Bad Request: /api/accounts/accounts/
"POST /api/accounts/accounts/ HTTP/1.1" 400 38
/home/ubuntu/banking_system/accounts/serializers.py changed, reloading.
Watching for file changes with StatReloader
"POST /api/accounts/accounts/ HTTP/1.1" 201 118
"GET /api/accounts/transactions/history/ HTTP/1.1" 200 12215
/home/ubuntu/banking_system/accounts/middleware.py changed, reloading.
Watching for file changes with StatReloader
"GET /api/accounts/transactions/history/ HTTP/1.1" 200 12215
/home/ubuntu/banking_system/accounts/view/transaction.py changed, reloading.
Watching for file changes with StatReloader
/home/ubuntu/banking_system/accounts/view/transaction.py changed, reloading.
Watching for file changes with StatReloader
"GET /api/accounts/transactions/history/ HTTP/1.1" 200 2322
Unauthorized: /api/accounts/transactions/history/cached/
"GET /api/accounts/transactions/history/cached/ HTTP/1.1" 401 183
Unauthorized: /api/accounts/transactions/history/cached/
"GET /api/accounts/transactions/history/cached/ HTTP/1.1" 401 183
"GET /api/accounts/transactions/history/ HTTP/1.1" 200 2322
/home/ubuntu/banking_system/accounts/view/transaction.py changed, reloading.
Watching for file changes with StatReloader
Internal Server Error: /api/accounts/transactions/history/
Traceback (most recent call last):
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/db/models/options.py", line 676, in get_field
    return self.fields_map[field_name]
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^
KeyError: 'local_created_at'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/generics.py", line 203, in get
    return self.list(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/mixins.py", line 40, in list
    page = self.paginate_queryset(queryset)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/generics.py", line 175, in paginate_queryset
    return self.paginator.paginate_queryset(queryset, self.request, view=self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/pagination.py", line 211, in paginate_queryset
    self.page = paginator.page(page_number)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/core/paginator.py", line 89, in page
    number = self.validate_number(number)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/core/paginator.py", line 70, in validate_number
    if number > self.num_pages:
                ^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/utils/functional.py", line 47, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
                                         ^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/core/paginator.py", line 116, in num_pages
    if self.count == 0 and not self.allow_empty_first_page:
       ^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/utils/functional.py", line 47, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
                                         ^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/core/paginator.py", line 110, in count
    return c()
           ^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/db/models/query.py", line 620, in count
    return self.query.get_count(using=self.db)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/db/models/sql/query.py", line 630, in get_count
    return obj.get_aggregation(using, {"__count": Count("*")})["__count"]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/db/models/sql/query.py", line 616, in get_aggregation
    result = compiler.execute_sql(SINGLE)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py", line 1561, in execute_sql
    sql, params = self.as_sql()
                  ^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py", line 747, in as_sql
    extra_select, order_by, group_by = self.pre_sql_setup(
                                       ^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py", line 84, in pre_sql_setup
    self.setup_query(with_col_aliases=with_col_aliases)
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py", line 73, in setup_query
    self.select, self.klass_info, self.annotation_col_map = self.get_select(
                                                            ^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py", line 256, in get_select
    select_mask = self.query.get_select_mask()
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/db/models/sql/query.py", line 871, in get_select_mask
    return self._get_only_select_mask(opts, mask)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/db/models/sql/query.py", line 840, in _get_only_select_mask
    field = opts.get_field(field_name)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/db/models/options.py", line 678, in get_field
    raise FieldDoesNotExist(
django.core.exceptions.FieldDoesNotExist: Transaction has no field named 'local_created_at'
"GET /api/accounts/transactions/history/ HTTP/1.1" 500 185105
/home/ubuntu/banking_system/accounts/view/transaction.py changed, reloading.
Watching for file changes with StatReloader
"GET /api/accounts/transactions/history/ HTTP/1.1" 200 2322
/home/ubuntu/banking_system/accounts/view/transaction.py changed, reloading.
Watching for file changes with StatReloader
/home/ubuntu/banking_system/accounts/view/transaction.py changed, reloading.
Watching for file changes with StatReloader
"GET /api/accounts/transactions/history/ HTTP/1.1" 200 2322
/home/ubuntu/banking_system/accounts/view/transaction.py changed, reloading.
Watching for file changes with StatReloader
"GET /api/accounts/transactions/history/ HTTP/1.1" 200 2322
"GET /api/accounts/transactions/history/ HTTP/1.1" 200 2322
/home/ubuntu/banking_system/accounts/view/transaction.py changed, reloading.
Watching for file changes with StatReloader
"GET /api/accounts/transactions/history/ HTTP/1.1" 200 2322
/home/ubuntu/banking_system/accounts/serializers.py changed, reloading.
Watching for file changes with StatReloader
"GET /api/accounts/transactions/history/ HTTP/1.1" 200 2322
Unauthorized: /api/accounts/transactions/history/cached/
"GET /api/accounts/transactions/history/cached/ HTTP/1.1" 401 183
"GET /api/accounts/transactions/history/cached/ HTTP/1.1" 200 2
/home/ubuntu/banking_system/banking_system/settings.py changed, reloading.
Watching for file changes with StatReloader
/home/ubuntu/banking_system/accounts/view/transaction.py changed, reloading.
Watching for file changes with StatReloader
"GET /api/accounts/transactions/history/ HTTP/1.1" 200 2322
/home/ubuntu/banking_system/banking_system/settings.py changed, reloading.
Watching for file changes with StatReloader
/home/ubuntu/banking_system/banking_system/settings.py changed, reloading.
Watching for file changes with StatReloader
/home/ubuntu/banking_system/accounts/urls.py changed, reloading.
Watching for file changes with StatReloader
Not Found: /docs/
"GET /docs/ HTTP/1.1" 404 2357
Not Found: /accounts/docs/
"GET /accounts/docs/ HTTP/1.1" 404 2384
"GET /api/accounts/docs/ HTTP/1.1" 200 4695
Internal Server Error: /api/accounts/schema/
Traceback (most recent call last):
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/drf_spectacular/views.py", line 84, in get
    return self._get_schema_response(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/drf_spectacular/views.py", line 92, in _get_schema_response
    data=generator.get_schema(request=request, public=self.serve_public),
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/drf_spectacular/generators.py", line 285, in get_schema
    paths=self.parse(request, public),
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/drf_spectacular/generators.py", line 250, in parse
    assert isinstance(view.schema, AutoSchema), (
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: Incompatible AutoSchema used on View <class 'accounts.views.BankAccountView'>. Is DRF's DEFAULT_SCHEMA_CLASS pointing to "drf_spectacular.openapi.AutoSchema" or any other drf-spectacular compatible AutoSchema?
"GET /api/accounts/schema/ HTTP/1.1" 500 111782
Internal Server Error: /api/accounts/schema/
Traceback (most recent call last):
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/drf_spectacular/views.py", line 84, in get
    return self._get_schema_response(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/drf_spectacular/views.py", line 92, in _get_schema_response
    data=generator.get_schema(request=request, public=self.serve_public),
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/drf_spectacular/generators.py", line 285, in get_schema
    paths=self.parse(request, public),
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/drf_spectacular/generators.py", line 250, in parse
    assert isinstance(view.schema, AutoSchema), (
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: Incompatible AutoSchema used on View <class 'accounts.views.BankAccountView'>. Is DRF's DEFAULT_SCHEMA_CLASS pointing to "drf_spectacular.openapi.AutoSchema" or any other drf-spectacular compatible AutoSchema?
"GET /api/accounts/schema/ HTTP/1.1" 500 111782
/home/ubuntu/banking_system/banking_system/settings.py changed, reloading.
Watching for file changes with StatReloader
"GET /api/accounts/docs/ HTTP/1.1" 200 4695
"GET /api/accounts/schema/ HTTP/1.1" 200 15801
Unauthorized: /api/accounts/accounts/
"POST /api/accounts/accounts/ HTTP/1.1" 401 58
/home/ubuntu/banking_system/accounts/views.py changed, reloading.
Watching for file changes with StatReloader
Unauthorized: /api/accounts/accounts/
"POST /api/accounts/accounts/ HTTP/1.1" 401 58
Unauthorized: /api/accounts/transactions/withdraw/
"POST /api/accounts/transactions/withdraw/ HTTP/1.1" 401 58
Bad Request: /api/accounts/loginwithkeys/
"POST /api/accounts/loginwithkeys/ HTTP/1.1" 400 79
Unauthorized: /api/accounts/roles/
"GET /api/accounts/roles/ HTTP/1.1" 401 58
Not Found: /api/transactions/deposit/
Not Found: /api/transactions/transfer/
Not Found: /api/transactions/withdraw/
Not Found: /api/transactions/deposit/
Not Found: /api/transactions/transfer/
Not Found: /api/transactions/withdraw/
Not Found: /api/transactions/deposit/
Not Found: /api/transactions/transfer/
Not Found: /api/transactions/withdraw/
Not Found: /api/transactions/deposit/
Not Found: /api/transactions/transfer/
Not Found: /api/transactions/withdraw/
Not Found: /api/transactions/transfer/
Not Found: /api/transactions/withdraw/
Unauthorized: /api/accounts/transactions/deposit/
Not Found: /api/transactions/transfer/
Not Found: /api/transactions/withdraw/
Unauthorized: /api/accounts/transactions/deposit/
Unauthorized: /api/accounts/transactions/transfer/
Unauthorized: /api/accounts/transactions/withdraw/
Unauthorized: /api/accounts/transactions/deposit/
Unauthorized: /api/accounts/transactions/transfer/
Unauthorized: /api/accounts/transactions/withdraw/
Not Found: /api/accounts/transactions/transfer/
Watching for file changes with StatReloader
Not Found: /api/accounts/admin/report
"GET /api/accounts/admin/report HTTP/1.1" 404 7620
Unauthorized: /api/accounts/admin/reports/
"GET /api/accounts/admin/reports/ HTTP/1.1" 401 5148
"GET /static/rest_framework/css/bootstrap-tweaks.css HTTP/1.1" 304 0
"GET /static/rest_framework/css/default.css HTTP/1.1" 304 0
"GET /static/rest_framework/css/prettify.css HTTP/1.1" 304 0
"GET /static/rest_framework/js/ajax-form.js HTTP/1.1" 304 0
"GET /static/rest_framework/css/bootstrap.min.css HTTP/1.1" 200 121457
"GET /static/rest_framework/js/jquery-3.7.1.min.js HTTP/1.1" 200 87533
"GET /static/rest_framework/js/bootstrap.min.js HTTP/1.1" 304 0
"GET /static/rest_framework/js/csrf.js HTTP/1.1" 304 0
"GET /static/rest_framework/js/load-ajax-form.js HTTP/1.1" 304 0
"GET /static/rest_framework/js/prettify-min.js HTTP/1.1" 304 0
"GET /static/rest_framework/js/default.js HTTP/1.1" 304 0
"GET /static/rest_framework/img/grid.png HTTP/1.1" 304 0
"POST /api/accounts/loginwithkeys/ HTTP/1.1" 200 483
"GET /api/accounts/admin/reports/ HTTP/1.1" 200 301
/home/ubuntu/banking_system/accounts/view/reports.py changed, reloading.
Watching for file changes with StatReloader
Internal Server Error: /api/accounts/admin/reports/
Traceback (most recent call last):
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/banking_system/accounts/view/reports.py", line 14, in get
    transactions = Transaction.objects.filter(created_at__date__gte=parse_date(start_date), created_at__date__lte=parse_date(end_date))
                                                                    ^^^^^^^^^^
NameError: name 'parse_date' is not defined
"GET /api/accounts/admin/reports/ HTTP/1.1" 500 90879
/home/ubuntu/banking_system/accounts/view/reports.py changed, reloading.
Watching for file changes with StatReloader
Internal Server Error: /api/accounts/admin/reports/
Traceback (most recent call last):
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/banking_system/accounts/view/reports.py", line 15, in get
    transactions = Transaction.objects.filter(created_at__date__gte=parse_date(start_date), created_at__date__lte=parse_date(end_date))
                                                                    ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/utils/dateparse.py", line 74, in parse_date
    return datetime.date.fromisoformat(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: fromisoformat: argument must be str
"GET /api/accounts/admin/reports/ HTTP/1.1" 500 94580
/home/ubuntu/banking_system/accounts/view/reports.py changed, reloading.
Watching for file changes with StatReloader
"GET /api/accounts/admin/reports/ HTTP/1.1" 200 301
/home/ubuntu/banking_system/accounts/view/reports.py changed, reloading.
Watching for file changes with StatReloader
/home/ubuntu/banking_system/accounts/view/reports.py changed, reloading.
Watching for file changes with StatReloader
/home/ubuntu/banking_system/accounts/view/reports.py changed, reloading.
Watching for file changes with StatReloader
Internal Server Error: /api/accounts/admin/reports/
Traceback (most recent call last):
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 511, in dispatch
    self.response = self.finalize_response(request, response, *args, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 423, in finalize_response
    assert isinstance(response, HttpResponseBase), (
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: Expected a `Response`, `HttpResponse` or `StreamingHttpResponse` to be returned from the view, but received a `<class 'tuple'>`
"GET /api/accounts/admin/reports/ HTTP/1.1" 500 77929
/home/ubuntu/banking_system/accounts/view/reports.py changed, reloading.
Watching for file changes with StatReloader
/home/ubuntu/banking_system/accounts/view/reports.py changed, reloading.
Watching for file changes with StatReloader
Internal Server Error: /api/accounts/admin/reports/
Traceback (most recent call last):
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/core/handlers/base.py", line 220, in _get_response
    response = response.render()
               ^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/template/response.py", line 114, in render
    self.content = self.rendered_content
                   ^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/response.py", line 74, in rendered_content
    ret = renderer.render(self.data, accepted_media_type, context)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/renderers.py", line 100, in render
    ret = json.dumps(
          ^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/utils/json.py", line 25, in dumps
    return json.dumps(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
          ^^^^^^^^^^^
  File "/usr/lib/python3.12/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           ^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/utils/encoders.py", line 67, in default
    return super().default(obj)
           ^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type BankAccount is not JSON serializable
"GET /api/accounts/admin/reports/ HTTP/1.1" 500 106445
/home/ubuntu/banking_system/accounts/view/reports.py changed, reloading.
Watching for file changes with StatReloader
"GET /api/accounts/admin/reports/ HTTP/1.1" 200 397
Watching for file changes with StatReloader
Unauthorized: /api/accounts/admin/reports/
Unauthorized: /api/accounts/admin/reports/
Not Found: /api/accounts/transactions/transfer/
Not Found: /api/accounts/transactions/transfer/
Not Found: /api/accounts/transactions/transfer/
Unauthorized: /api/accounts/admin/reports/
Not Found: /api/accounts/transactions/transfer/
Forbidden: /api/accounts/admin/reports/
Not Found: /api/accounts/transactions/transfer/
/home/ubuntu/banking_system/banking_system/settings.py changed, reloading.
Watching for file changes with StatReloader
Unauthorized: /api/accounts/admin/reports/
"GET /api/accounts/admin/reports/ HTTP/1.1" 401 5148
"GET /api/accounts/docs/ HTTP/1.1" 200 4695
"GET /api/accounts/schema/ HTTP/1.1" 200 16308
Bad Request: /api/accounts/loginwithkeys/
"POST /api/accounts/loginwithkeys/ HTTP/1.1" 400 79
Unauthorized: /api/accounts/admin/reports/
"GET /api/accounts/admin/reports/ HTTP/1.1" 401 58
/home/ubuntu/banking_system/accounts/urls.py changed, reloading.
Watching for file changes with StatReloader
Unauthorized: /api/accounts/roles/
"GET /api/accounts/roles/ HTTP/1.1" 401 183
Unauthorized: /api/accounts/roles/
"GET /api/accounts/roles/ HTTP/1.1" 401 183
Unauthorized: /api/accounts/roles/
"GET /api/accounts/roles/ HTTP/1.1" 401 183
Unauthorized: /api/accounts/roles/assign/
"POST /api/accounts/roles/assign/ HTTP/1.1" 401 58
Unauthorized: /api/accounts/admin/reports/
"GET /api/accounts/admin/reports/ HTTP/1.1" 401 183
Unauthorized: /api/accounts/roles/
"POST /api/accounts/roles/ HTTP/1.1" 401 183
/home/ubuntu/banking_system/accounts/urls.py changed, reloading.
Watching for file changes with StatReloader
/home/ubuntu/banking_system/accounts/urls.py changed, reloading.
Watching for file changes with StatReloader
/home/ubuntu/banking_system/accounts/view/user_account_management.py changed, reloading.
Watching for file changes with StatReloader
/home/ubuntu/banking_system/accounts/view/user_account_management.py changed, reloading.
Watching for file changes with StatReloader
/home/ubuntu/banking_system/accounts/urls.py changed, reloading.
Watching for file changes with StatReloader
/home/ubuntu/banking_system/accounts/urls.py changed, reloading.
Watching for file changes with StatReloader
/home/ubuntu/banking_system/accounts/urls.py changed, reloading.
Watching for file changes with StatReloader
Unauthorized: /api/accounts/users/update-timezone/
"POST /api/accounts/users/update-timezone/ HTTP/1.1" 401 183
/home/ubuntu/banking_system/accounts/urls.py changed, reloading.
Watching for file changes with StatReloader
/home/ubuntu/banking_system/accounts/view/bank_account_management.py changed, reloading.
Watching for file changes with StatReloader
Unauthorized: /api/accounts/users/update-timezone/
"POST /api/accounts/users/update-timezone/ HTTP/1.1" 401 183
Unauthorized: /api/accounts/accounts/
"GET /api/accounts/accounts/ HTTP/1.1" 401 183
Unauthorized: /api/accounts/accounts/
"GET /api/accounts/accounts/ HTTP/1.1" 401 183
Watching for file changes with StatReloader
"POST /api/accounts/loginwithkeys/ HTTP/1.1" 200 483
"GET /api/accounts/transactions/history/ HTTP/1.1" 200 2322
"GET /api/accounts/transactions/history/cached/ HTTP/1.1" 200 2
/home/ubuntu/banking_system/banking_system/settings.py changed, reloading.
Watching for file changes with StatReloader
/home/ubuntu/banking_system/banking_system/settings.py changed, reloading.
Watching for file changes with StatReloader
"GET /api/accounts/transactions/history/cached/ HTTP/1.1" 200 2
"GET /api/accounts/transactions/history/ HTTP/1.1" 200 2322
"GET /api/accounts/transactions/history/cached/ HTTP/1.1" 200 2
/home/ubuntu/banking_system/banking_system/settings.py changed, reloading.
Watching for file changes with StatReloader
/home/ubuntu/banking_system/accounts/view/transaction.py changed, reloading.
Watching for file changes with StatReloader
/home/ubuntu/banking_system/accounts/view/transaction.py changed, reloading.
Watching for file changes with StatReloader
"GET /api/accounts/transactions/history/cached/ HTTP/1.1" 200 2
"GET /api/accounts/transactions/history/ HTTP/1.1" 200 2322
"GET /api/accounts/transactions/history/cached/ HTTP/1.1" 200 2
/home/ubuntu/banking_system/accounts/view/transaction.py changed, reloading.
Watching for file changes with StatReloader
"GET /api/accounts/transactions/history/cached/ HTTP/1.1" 200 2
"GET /api/accounts/transactions/history/cached/ HTTP/1.1" 200 2
"GET /api/accounts/transactions/history/cached/ HTTP/1.1" 200 2
"GET /api/accounts/transactions/history/cached/?account=1 HTTP/1.1" 200 10376
"GET /api/accounts/transactions/history/cached/?account=2 HTTP/1.1" 200 1840
"GET /api/accounts/transactions/history/?account=2 HTTP/1.1" 200 1890
"GET /api/accounts/transactions/history/?account=1 HTTP/1.1" 200 2332
"GET /api/accounts/transactions/history/cached/?account=1 HTTP/1.1" 200 10376
"GET /api/accounts/transactions/history/cached/?account=1 HTTP/1.1" 200 10376
"GET /api/accounts/transactions/history/?account=1 HTTP/1.1" 200 2332
"GET /api/accounts/transactions/history/cached/?account=1 HTTP/1.1" 200 10376
/home/ubuntu/banking_system/accounts/view/transaction.py changed, reloading.
Watching for file changes with StatReloader
Internal Server Error: /api/accounts/transactions/history/cached/
Traceback (most recent call last):
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/fields.py", line 437, in get_attribute
    return get_attribute(instance, self.source_attrs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/fields.py", line 104, in get_attribute
    instance = getattr(instance, attr)
               ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'int' object has no attribute 'account'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/generics.py", line 203, in get
    return self.list(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/mixins.py", line 46, in list
    return Response(serializer.data)
                    ^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/serializers.py", line 795, in data
    ret = super().data
          ^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/serializers.py", line 249, in data
    self._data = self.to_representation(self.instance)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/serializers.py", line 714, in to_representation
    self.child.to_representation(item) for item in iterable
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/serializers.py", line 525, in to_representation
    attribute = field.get_attribute(instance)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/relations.py", line 189, in get_attribute
    return super().get_attribute(instance)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/fields.py", line 470, in get_attribute
    raise type(exc)(msg)
AttributeError: Got AttributeError when attempting to get a value for field `account` on serializer `TransactionSerializer`.
The serializer field might be named incorrectly and not match any attribute or key on the `int` instance.
Original exception text was: 'int' object has no attribute 'account'.
"GET /api/accounts/transactions/history/cached/?account=1 HTTP/1.1" 500 138417
/home/ubuntu/banking_system/accounts/view/transaction.py changed, reloading.
Watching for file changes with StatReloader
"GET /api/accounts/transactions/history/cached/?account=1 HTTP/1.1" 200 10376
"GET /api/accounts/transactions/history/cached/?account=2 HTTP/1.1" 200 1840
"GET /api/accounts/transactions/history/cached/?account=3 HTTP/1.1" 200 2
"GET /api/accounts/transactions/history/cached/?account=2 HTTP/1.1" 200 1840
"GET /api/accounts/transactions/history/?account=2 HTTP/1.1" 200 1890
"GET /api/accounts/transactions/history/cached/?account=2 HTTP/1.1" 200 1840
"GET /api/accounts/transactions/history/cached/?account=2 HTTP/1.1" 200 1840
"GET /api/accounts/transactions/history/cached/?account=2 HTTP/1.1" 200 1840
"GET /api/accounts/transactions/history/cached/?account=2 HTTP/1.1" 200 1840
"GET /api/accounts/transactions/history/cached/?account=2 HTTP/1.1" 200 1840
"GET /api/accounts/transactions/history/cached/?account=2 HTTP/1.1" 200 1840
"GET /api/accounts/transactions/history/cached/?account=2 HTTP/1.1" 200 1840
"GET /api/accounts/transactions/history/cached/?account=2 HTTP/1.1" 200 1840
"GET /api/accounts/transactions/history/cached/?account=2 HTTP/1.1" 200 1840
"GET /api/accounts/transactions/history/cached/?account=2 HTTP/1.1" 200 1840
"GET /api/accounts/transactions/history/cached/?account=2 HTTP/1.1" 200 1840
"GET /api/accounts/transactions/history/cached/?account=2 HTTP/1.1" 200 1840
/home/ubuntu/banking_system/accounts/view/transaction.py changed, reloading.
Watching for file changes with StatReloader
"GET /api/accounts/transactions/history/cached/?account=2 HTTP/1.1" 200 1840
"GET /api/accounts/transactions/history/?account=2 HTTP/1.1" 200 1890
Unauthorized: /api/accounts/transactions/history/cached/
"GET /api/accounts/transactions/history/cached/?account=2 HTTP/1.1" 401 107
Unauthorized: /api/accounts/transactions/history/cached/
"GET /api/accounts/transactions/history/cached/?account=2 HTTP/1.1" 401 183
Unauthorized: /api/accounts/transactions/history/cached/
"GET /api/accounts/transactions/history/cached/?account=2 HTTP/1.1" 401 183
Unauthorized: /api/accounts/transactions/history/cached/
"GET /api/accounts/transactions/history/cached/?account=2 HTTP/1.1" 401 107
"GET /api/accounts/transactions/history/cached/?account=2 HTTP/1.1" 200 1840
"GET /api/accounts/transactions/history/?account=2 HTTP/1.1" 200 1890
"POST /api/accounts/transactions/transfer/ HTTP/1.1" 200 33
"POST /api/accounts/transactions/withdraw/ HTTP/1.1" 200 35
"POST /api/accounts/transactions/deposit/ HTTP/1.1" 200 32
"GET /api/accounts/accounts/ HTTP/1.1" 200 383
"POST /api/accounts/users/update-timezone/ HTTP/1.1" 200 44
"POST /api/accounts/accounts/ HTTP/1.1" 201 118
Forbidden: /api/accounts/accounts/batch-create/
"POST /api/accounts/accounts/batch-create/ HTTP/1.1" 403 63
"POST /api/accounts/transactions/external-transfer/ HTTP/1.1" 200 33
Unauthorized: /api/accounts/roles/
"POST /api/accounts/roles/ HTTP/1.1" 401 183
"POST /api/accounts/loginwithkeys/ HTTP/1.1" 200 483
"POST /api/accounts/accounts/batch-create/ HTTP/1.1" 201 23
"POST /api/accounts/accounts/batch-create/ HTTP/1.1" 201 23
"POST /api/accounts/roles/ HTTP/1.1" 201 32
"GET /api/accounts/roles/ HTTP/1.1" 200 121
"POST /api/accounts/roles/assign/ HTTP/1.1" 200 67
"GET /api/accounts/admin/reports/ HTTP/1.1" 200 397
Watching for file changes with StatReloader
"GET /api/accounts/docs/ HTTP/1.1" 200 4695
"GET /api/accounts/schema/ HTTP/1.1" 200 16308
Unauthorized: /api/accounts/accounts/
"POST /api/accounts/accounts/ HTTP/1.1" 401 58
Unauthorized: /api/accounts/accounts/
"GET /api/accounts/accounts/ HTTP/1.1" 401 183
"POST /api/accounts/loginwithkeys/ HTTP/1.1" 200 483
Unauthorized: /api/accounts/accounts/
"GET /api/accounts/accounts/ HTTP/1.1" 401 183
Unauthorized: /api/accounts/accounts/
"GET /api/accounts/accounts/ HTTP/1.1" 401 183
Unauthorized: /api/accounts/accounts/
"GET /api/accounts/accounts/ HTTP/1.1" 401 183
Unauthorized: /api/accounts/accounts/
"GET /api/accounts/accounts/ HTTP/1.1" 401 183
Unauthorized: /api/accounts/accounts/
"GET /api/accounts/accounts/ HTTP/1.1" 401 183
Unauthorized: /api/accounts/accounts/
"GET /api/accounts/accounts/ HTTP/1.1" 401 183
Unauthorized: /api/accounts/accounts/
"GET /api/accounts/accounts/ HTTP/1.1" 401 183
Unauthorized: /api/accounts/accounts/
"GET /api/accounts/accounts/ HTTP/1.1" 401 183
Unauthorized: /api/accounts/accounts/
"GET /api/accounts/accounts/ HTTP/1.1" 401 183
Unauthorized: /api/accounts/accounts/
"GET /api/accounts/accounts/ HTTP/1.1" 401 183
"POST /api/accounts/loginwithkeys/ HTTP/1.1" 200 483
"GET /api/accounts/accounts/ HTTP/1.1" 200 502
"GET /api/accounts/accounts/ HTTP/1.1" 200 502
Unauthorized: /api/accounts/transactions/history/
"GET /api/accounts/transactions/history/?account=2 HTTP/1.1" 401 183
Unauthorized: /api/accounts/transactions/history/
"GET /api/accounts/transactions/history/?account=2 HTTP/1.1" 401 183
"GET /api/accounts/accounts/ HTTP/1.1" 200 502
Unauthorized: /api/accounts/accounts/
"GET /api/accounts/accounts/ HTTP/1.1" 401 183
Unauthorized: /api/accounts/accounts/
"GET /api/accounts/accounts/ HTTP/1.1" 401 183
Unauthorized: /api/accounts/accounts/
"GET /api/accounts/accounts/ HTTP/1.1" 401 183
Unauthorized: /api/accounts/accounts/
"GET /api/accounts/accounts/ HTTP/1.1" 401 183
"GET /api/accounts/accounts/ HTTP/1.1" 200 502
"GET /api/accounts/accounts/ HTTP/1.1" 200 502
"GET /api/accounts/transactions/history/?account=2 HTTP/1.1" 200 2352
"GET /api/accounts/transactions/history/cached/?account=2 HTTP/1.1" 200 2301
"GET /api/accounts/accounts/ HTTP/1.1" 200 502
"POST /api/accounts/login/ HTTP/1.1" 200 36
"POST /api/accounts/loginwithkeys/ HTTP/1.1" 200 483
"POST /api/accounts/register/ HTTP/1.1" 201 42
"GET /api/accounts/accounts/ HTTP/1.1" 200 502
"POST /api/accounts/users/update-timezone/ HTTP/1.1" 200 44
"POST /api/accounts/accounts/ HTTP/1.1" 201 118
"POST /api/accounts/loginwithkeys/ HTTP/1.1" 200 483
Unauthorized: /api/accounts/accounts/
"GET /api/accounts/accounts/ HTTP/1.1" 401 183
Unauthorized: /api/accounts/accounts/
"GET /api/accounts/accounts/ HTTP/1.1" 401 183
Unauthorized: /api/accounts/accounts/
"GET /api/accounts/accounts/ HTTP/1.1" 401 183
Unauthorized: /api/accounts/accounts/
"GET /api/accounts/accounts/ HTTP/1.1" 401 183
Unauthorized: /api/accounts/accounts/
"GET /api/accounts/accounts/ HTTP/1.1" 401 183
"GET /api/accounts/accounts/ HTTP/1.1" 200 2
Unauthorized: /api/accounts/accounts/
"GET /api/accounts/accounts/ HTTP/1.1" 401 183
"GET /api/accounts/accounts/ HTTP/1.1" 200 621
"GET /api/accounts/accounts/ HTTP/1.1" 200 2
"GET /api/accounts/accounts/ HTTP/1.1" 200 2
"GET /api/accounts/accounts/ HTTP/1.1" 200 2
"GET /api/accounts/accounts/ HTTP/1.1" 200 2
"POST /api/accounts/accounts/ HTTP/1.1" 201 118
Not Found: /api/accounts/transactions/deposit/
"POST /api/accounts/transactions/deposit/ HTTP/1.1" 404 45
Not Found: /api/accounts/transactions/deposit/
"POST /api/accounts/transactions/deposit/ HTTP/1.1" 404 45
"POST /api/accounts/transactions/deposit/ HTTP/1.1" 200 32
Not Found: /api/accounts/transactions/withdraw/
"POST /api/accounts/transactions/withdraw/ HTTP/1.1" 404 45
"POST /api/accounts/transactions/withdraw/ HTTP/1.1" 200 35
"POST /api/accounts/transactions/transfer/ HTTP/1.1" 200 33
"GET /api/accounts/transactions/history/?account=2 HTTP/1.1" 200 52
"GET /api/accounts/transactions/history/?account=2 HTTP/1.1" 200 52
"GET /api/accounts/transactions/history/?account=6 HTTP/1.1" 200 703
"GET /api/accounts/transactions/history/ HTTP/1.1" 200 703
"GET /api/accounts/transactions/history/cached/?account=3 HTTP/1.1" 200 2
"GET /api/accounts/transactions/history/cached/?account=6 HTTP/1.1" 200 653
"GET /api/accounts/docs/ HTTP/1.1" 200 4695
"GET /api/accounts/schema/ HTTP/1.1" 200 16308
Unauthorized: /api/accounts/accounts/
"GET /api/accounts/accounts/ HTTP/1.1" 401 107
"GET /api/accounts/accounts/ HTTP/1.1" 200 121
"POST /api/accounts/accounts/ HTTP/1.1" 201 118
Unauthorized: /api/accounts/login/
"POST /api/accounts/login/ HTTP/1.1" 401 31
/home/ubuntu/banking_system/accounts/urls.py changed, reloading.
Watching for file changes with StatReloader
"POST /api/accounts/loginwithoutotp/ HTTP/1.1" 200 483
"GET /api/accounts/docs/ HTTP/1.1" 200 4695
"GET /api/accounts/schema/ HTTP/1.1" 200 16314
Not Found: /
"GET / HTTP/1.1" 404 2324
Not Found: /
"GET / HTTP/1.1" 404 2324
Not Found: /favicon.ico
"GET /favicon.ico HTTP/1.1" 404 2375
/home/ubuntu/banking_system/accounts/view/user_account_management.py changed, reloading.
Watching for file changes with StatReloader
"GET /api/accounts/docs/ HTTP/1.1" 200 4695
"GET /api/accounts/schema/ HTTP/1.1" 200 63987
/home/ubuntu/banking_system/accounts/serializers.py changed, reloading.
Watching for file changes with StatReloader
"GET /api/accounts/docs/ HTTP/1.1" 200 4695
"GET /api/accounts/schema/ HTTP/1.1" 200 18599
"POST /api/accounts/register/ HTTP/1.1" 201 42
/home/ubuntu/banking_system/accounts/view/user_account_management.py changed, reloading.
Watching for file changes with StatReloader
"GET /api/accounts/docs/ HTTP/1.1" 200 4695
"GET /api/accounts/schema/ HTTP/1.1" 200 20150
Unauthorized: /api/accounts/login/
"POST /api/accounts/login/ HTTP/1.1" 401 31
/home/ubuntu/banking_system/accounts/view/user_account_management.py changed, reloading.
Watching for file changes with StatReloader
"GET /api/accounts/docs/ HTTP/1.1" 200 4695
"GET /api/accounts/schema/ HTTP/1.1" 200 21229
"POST /api/accounts/login/ HTTP/1.1" 200 36
"POST /api/accounts/loginwithoutotp/ HTTP/1.1" 200 483
"GET /api/accounts/accounts/ HTTP/1.1" 200 2
/home/ubuntu/banking_system/accounts/view/bank_account_management.py changed, reloading.
Watching for file changes with StatReloader
"GET /api/accounts/docs/ HTTP/1.1" 200 4695
"GET /api/accounts/schema/ HTTP/1.1" 200 25726
Internal Server Error: /api/accounts/accounts/
Traceback (most recent call last):
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/banking_system/accounts/view/bank_account_management.py", line 38, in post
    serializer.save(user=request.user)
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/serializers.py", line 208, in save
    self.instance = self.create(validated_data)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/serializers.py", line 975, in create
    raise_errors_on_nested_writes('create', self, validated_data)
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/serializers.py", line 840, in raise_errors_on_nested_writes
    assert not any(
           ^^^^^^^^
AssertionError: The `.create()` method does not support writable nested fields by default.
Write an explicit `.create()` method for serializer `accounts.serializers.BankAccountSerializer`, or set `read_only=True` on nested serializer fields.
"POST /api/accounts/accounts/ HTTP/1.1" 500 19528
/home/ubuntu/banking_system/accounts/serializers.py changed, reloading.
Watching for file changes with StatReloader
Internal Server Error: /api/accounts/accounts/
Traceback (most recent call last):
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/banking_system/accounts/view/bank_account_management.py", line 38, in post
    serializer.save(user=request.user)
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/serializers.py", line 208, in save
    self.instance = self.create(validated_data)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/serializers.py", line 975, in create
    raise_errors_on_nested_writes('create', self, validated_data)
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/serializers.py", line 840, in raise_errors_on_nested_writes
    assert not any(
           ^^^^^^^^
AssertionError: The `.create()` method does not support writable nested fields by default.
Write an explicit `.create()` method for serializer `accounts.serializers.BankAccountSerializer`, or set `read_only=True` on nested serializer fields.
"POST /api/accounts/accounts/ HTTP/1.1" 500 19528
"GET /api/accounts/accounts/ HTTP/1.1" 200 240
"GET /api/accounts/accounts/ HTTP/1.1" 200 2
"POST /api/accounts/accounts/ HTTP/1.1" 201 118
"GET /api/accounts/accounts/ HTTP/1.1" 200 120
Internal Server Error: /api/accounts/accounts/
Traceback (most recent call last):
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/banking_system/accounts/view/bank_account_management.py", line 38, in post
    serializer.save(user=request.user)
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/serializers.py", line 208, in save
    self.instance = self.create(validated_data)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/serializers.py", line 975, in create
    raise_errors_on_nested_writes('create', self, validated_data)
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/serializers.py", line 840, in raise_errors_on_nested_writes
    assert not any(
           ^^^^^^^^
AssertionError: The `.create()` method does not support writable nested fields by default.
Write an explicit `.create()` method for serializer `accounts.serializers.BankAccountSerializer`, or set `read_only=True` on nested serializer fields.
"POST /api/accounts/accounts/ HTTP/1.1" 500 19528
/home/ubuntu/banking_system/accounts/serializers.py changed, reloading.
Watching for file changes with StatReloader
/home/ubuntu/banking_system/accounts/serializers.py changed, reloading.
Watching for file changes with StatReloader
"GET /api/accounts/docs/ HTTP/1.1" 200 4695
"GET /api/accounts/schema/ HTTP/1.1" 200 26933
Unauthorized: /api/accounts/accounts/
"POST /api/accounts/accounts/ HTTP/1.1" 401 58
"GET /api/accounts/accounts/ HTTP/1.1" 200 192
Internal Server Error: /api/accounts/accounts/
Traceback (most recent call last):
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/banking_system/accounts/view/bank_account_management.py", line 38, in post
    serializer.save(user=request.user)
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/serializers.py", line 208, in save
    self.instance = self.create(validated_data)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/serializers.py", line 975, in create
    raise_errors_on_nested_writes('create', self, validated_data)
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/serializers.py", line 840, in raise_errors_on_nested_writes
    assert not any(
           ^^^^^^^^
AssertionError: The `.create()` method does not support writable nested fields by default.
Write an explicit `.create()` method for serializer `accounts.serializers.BankAccountSerializer`, or set `read_only=True` on nested serializer fields.
"POST /api/accounts/accounts/ HTTP/1.1" 500 19528
/home/ubuntu/banking_system/accounts/serializers.py changed, reloading.
Watching for file changes with StatReloader
Internal Server Error: /api/accounts/accounts/
Traceback (most recent call last):
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/banking_system/accounts/view/bank_account_management.py", line 37, in post
    if serializer.is_valid():
       ^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/serializers.py", line 223, in is_valid
    self._validated_data = self.run_validation(self.initial_data)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/serializers.py", line 442, in run_validation
    value = self.to_internal_value(data)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/serializers.py", line 495, in to_internal_value
    for field in fields:
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/serializers.py", line 378, in _writable_fields
    for field in self.fields.values():
                 ^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/utils/functional.py", line 47, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
                                         ^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/serializers.py", line 372, in fields
    for key, value in self.get_fields().items():
                      ^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/serializers.py", line 1079, in get_fields
    field_names = self.get_field_names(declared_fields, info)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/serializers.py", line 1175, in get_field_names
    assert field_name in fields, (
           ^^^^^^^^^^^^^^^^^^^^
AssertionError: The field 'user' was declared on serializer BankAccountSerializer, but has not been included in the 'fields' option.
"POST /api/accounts/accounts/ HTTP/1.1" 500 20366
/home/ubuntu/banking_system/accounts/serializers.py changed, reloading.
Watching for file changes with StatReloader
Internal Server Error: /api/accounts/accounts/
Traceback (most recent call last):
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/banking_system/accounts/view/bank_account_management.py", line 38, in post
    serializer.save(user=request.user)
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/serializers.py", line 208, in save
    self.instance = self.create(validated_data)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/serializers.py", line 975, in create
    raise_errors_on_nested_writes('create', self, validated_data)
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/serializers.py", line 840, in raise_errors_on_nested_writes
    assert not any(
           ^^^^^^^^
AssertionError: The `.create()` method does not support writable nested fields by default.
Write an explicit `.create()` method for serializer `accounts.serializers.BankAccountSerializer`, or set `read_only=True` on nested serializer fields.
"POST /api/accounts/accounts/ HTTP/1.1" 500 19528
/home/ubuntu/banking_system/accounts/serializers.py changed, reloading.
Watching for file changes with StatReloader
"GET /api/accounts/accounts/ HTTP/1.1" 200 192
Internal Server Error: /api/accounts/accounts/
Traceback (most recent call last):
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/banking_system/accounts/view/bank_account_management.py", line 38, in post
    serializer.save(user=request.user)
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/serializers.py", line 208, in save
    self.instance = self.create(validated_data)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/banking_system/accounts/serializers.py", line 57, in create
    user, created = User.objects.get_or_create(**user_data)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: django.db.models.query.QuerySet.get_or_create() argument after ** must be a mapping, not CustomUser
"POST /api/accounts/accounts/ HTTP/1.1" 500 102105
/home/ubuntu/banking_system/accounts/serializers.py changed, reloading.
Watching for file changes with StatReloader
Internal Server Error: /api/accounts/accounts/
Traceback (most recent call last):
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/banking_system/accounts/view/bank_account_management.py", line 38, in post
    serializer.save(user=request.user)
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/serializers.py", line 208, in save
    self.instance = self.create(validated_data)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/banking_system/accounts/serializers.py", line 57, in create
    user, created = User.objects.get_or_create(**user_data)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: django.db.models.query.QuerySet.get_or_create() argument after ** must be a mapping, not CustomUser
"POST /api/accounts/accounts/ HTTP/1.1" 500 100568
Internal Server Error: /api/accounts/accounts/
Traceback (most recent call last):
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/banking_system/accounts/view/bank_account_management.py", line 38, in post
    serializer.save(user=request.user)
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/serializers.py", line 208, in save
    self.instance = self.create(validated_data)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/banking_system/accounts/serializers.py", line 57, in create
    user, created = User.objects.get_or_create(**user_data)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: django.db.models.query.QuerySet.get_or_create() argument after ** must be a mapping, not CustomUser
"POST /api/accounts/accounts/ HTTP/1.1" 500 19066
/home/ubuntu/banking_system/accounts/serializers.py changed, reloading.
Watching for file changes with StatReloader
Internal Server Error: /api/accounts/accounts/
Traceback (most recent call last):
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/banking_system/accounts/view/bank_account_management.py", line 38, in post
    serializer.save(user=request.user)
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/serializers.py", line 208, in save
    self.instance = self.create(validated_data)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/banking_system/accounts/serializers.py", line 56, in create
    bank_account = BankAccount.objects.create(user=self.request.user, **validated_data)
                                                   ^^^^^^^^^^^^
AttributeError: 'BankAccountSerializer' object has no attribute 'request'
"POST /api/accounts/accounts/ HTTP/1.1" 500 19024
/home/ubuntu/banking_system/accounts/serializers.py changed, reloading.
Watching for file changes with StatReloader
Internal Server Error: /api/accounts/accounts/
Traceback (most recent call last):
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/banking_system/accounts/view/bank_account_management.py", line 38, in post
    serializer.save(user=request.user)
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/serializers.py", line 208, in save
    self.instance = self.create(validated_data)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/banking_system/accounts/serializers.py", line 57, in create
    bank_account = BankAccount.objects.create(user=request.user, **validated_data)
                                                   ^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'user'
"POST /api/accounts/accounts/ HTTP/1.1" 500 18987
/home/ubuntu/banking_system/accounts/serializers.py changed, reloading.
Watching for file changes with StatReloader
Internal Server Error: /api/accounts/accounts/
Traceback (most recent call last):
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/banking_system/accounts/view/bank_account_management.py", line 38, in post
    serializer.save(user=request.user)
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/serializers.py", line 208, in save
    self.instance = self.create(validated_data)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/banking_system/accounts/serializers.py", line 58, in create
    bank_account = BankAccount.objects.create(user=request.user, **validated_data)
                                                   ^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'user'
"POST /api/accounts/accounts/ HTTP/1.1" 500 18987
/home/ubuntu/banking_system/accounts/serializers.py changed, reloading.
Watching for file changes with StatReloader
Internal Server Error: /api/accounts/accounts/
Traceback (most recent call last):
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/banking_system/accounts/view/bank_account_management.py", line 38, in post
    serializer.save(user=request.user)
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/serializers.py", line 208, in save
    self.instance = self.create(validated_data)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/serializers.py", line 975, in create
    raise_errors_on_nested_writes('create', self, validated_data)
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/serializers.py", line 840, in raise_errors_on_nested_writes
    assert not any(
           ^^^^^^^^
AssertionError: The `.create()` method does not support writable nested fields by default.
Write an explicit `.create()` method for serializer `accounts.serializers.BankAccountSerializer`, or set `read_only=True` on nested serializer fields.
"POST /api/accounts/accounts/ HTTP/1.1" 500 19528
code 400, message Bad request version ('#+')
You're accessing the development server over HTTPS, but it only supports HTTP.
Not Found: /
"GET / HTTP/1.1" 404 2324
/home/ubuntu/banking_system/accounts/view/bank_account_management.py changed, reloading.
Watching for file changes with StatReloader
/home/ubuntu/banking_system/accounts/serializers.py changed, reloading.
Watching for file changes with StatReloader
Internal Server Error: /api/accounts/accounts/
Traceback (most recent call last):
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/banking_system/accounts/view/bank_account_management.py", line 38, in post
    serializer.save(user=request.user)
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/serializers.py", line 208, in save
    self.instance = self.create(validated_data)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/serializers.py", line 975, in create
    raise_errors_on_nested_writes('create', self, validated_data)
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/serializers.py", line 840, in raise_errors_on_nested_writes
    assert not any(
           ^^^^^^^^
AssertionError: The `.create()` method does not support writable nested fields by default.
Write an explicit `.create()` method for serializer `accounts.serializers.BankAccountSerializer`, or set `read_only=True` on nested serializer fields.
"POST /api/accounts/accounts/ HTTP/1.1" 500 19528
/home/ubuntu/banking_system/accounts/serializers.py changed, reloading.
Watching for file changes with StatReloader
Internal Server Error: /api/accounts/accounts/
Traceback (most recent call last):
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/banking_system/accounts/view/bank_account_management.py", line 38, in post
    serializer.save(user=request.user)
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/serializers.py", line 208, in save
    self.instance = self.create(validated_data)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/banking_system/accounts/serializers.py", line 59, in create
    bank_account = BankAccount.objects.create(user=user, **validated_data)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: django.db.models.query.QuerySet.create() got multiple values for keyword argument 'user'
"POST /api/accounts/accounts/ HTTP/1.1" 500 19074
/home/ubuntu/banking_system/accounts/serializers.py changed, reloading.
Watching for file changes with StatReloader
"POST /api/accounts/accounts/ HTTP/1.1" 201 130
code 400, message Bad request version ('#+')
You're accessing the development server over HTTPS, but it only supports HTTP.
Not Found: /favicon.ico
"GET /favicon.ico HTTP/1.1" 404 2375
"GET /api/accounts/accounts/ HTTP/1.1" 200 251
"POST /api/accounts/accounts/ HTTP/1.1" 201 119
Internal Server Error: /api/accounts/accounts/
Traceback (most recent call last):
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/db/backends/sqlite3/base.py", line 354, in execute
    return super().execute(query, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: accounts_tenant.domain

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/banking_system/accounts/view/bank_account_management.py", line 38, in post
    serializer.save(user=request.user)
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/serializers.py", line 208, in save
    self.instance = self.create(validated_data)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/banking_system/accounts/serializers.py", line 64, in create
    tenant = Tenant.objects.create(**tenant_data)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/db/models/query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/db/models/base.py", line 892, in save
    self.save_base(
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/db/models/base.py", line 998, in save_base
    updated = self._save_table(
              ^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/db/models/base.py", line 1161, in _save_table
    results = self._do_insert(
              ^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/db/models/base.py", line 1202, in _do_insert
    return manager._insert(
           ^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/db/models/query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/db/backends/utils.py", line 122, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/db/backends/sqlite3/base.py", line 354, in execute
    return super().execute(query, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.IntegrityError: UNIQUE constraint failed: accounts_tenant.domain
"POST /api/accounts/accounts/ HTTP/1.1" 500 191594
Internal Server Error: /api/accounts/accounts/
Traceback (most recent call last):
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/db/backends/sqlite3/base.py", line 354, in execute
    return super().execute(query, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: accounts_tenant.domain

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/banking_system/accounts/view/bank_account_management.py", line 38, in post
    serializer.save(user=request.user)
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/serializers.py", line 208, in save
    self.instance = self.create(validated_data)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/banking_system/accounts/serializers.py", line 64, in create
    tenant = Tenant.objects.create(**tenant_data)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/db/models/query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/db/models/base.py", line 892, in save
    self.save_base(
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/db/models/base.py", line 998, in save_base
    updated = self._save_table(
              ^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/db/models/base.py", line 1161, in _save_table
    results = self._do_insert(
              ^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/db/models/base.py", line 1202, in _do_insert
    return manager._insert(
           ^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/db/models/query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/db/backends/utils.py", line 122, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/db/backends/sqlite3/base.py", line 354, in execute
    return super().execute(query, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.IntegrityError: UNIQUE constraint failed: accounts_tenant.domain
"POST /api/accounts/accounts/ HTTP/1.1" 500 191594
"POST /api/accounts/accounts/ HTTP/1.1" 201 121
"GET /api/accounts/accounts/ HTTP/1.1" 200 737
Internal Server Error: /api/accounts/accounts/
Traceback (most recent call last):
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/db/backends/sqlite3/base.py", line 354, in execute
    return super().execute(query, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
sqlite3.IntegrityError: UNIQUE constraint failed: accounts_tenant.domain

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/banking_system/accounts/view/bank_account_management.py", line 38, in post
    serializer.save(user=request.user)
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/serializers.py", line 208, in save
    self.instance = self.create(validated_data)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/banking_system/accounts/serializers.py", line 64, in create
    tenant = Tenant.objects.create(**tenant_data)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/db/models/query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/db/models/base.py", line 892, in save
    self.save_base(
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/db/models/base.py", line 998, in save_base
    updated = self._save_table(
              ^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/db/models/base.py", line 1161, in _save_table
    results = self._do_insert(
              ^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/db/models/base.py", line 1202, in _do_insert
    return manager._insert(
           ^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/db/models/query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/db/models/sql/compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/db/backends/utils.py", line 122, in execute
    return super().execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/db/backends/sqlite3/base.py", line 354, in execute
    return super().execute(query, params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
django.db.utils.IntegrityError: UNIQUE constraint failed: accounts_tenant.domain
"POST /api/accounts/accounts/ HTTP/1.1" 500 22524
/home/ubuntu/banking_system/accounts/serializers.py changed, reloading.
Watching for file changes with StatReloader
Internal Server Error: /api/accounts/accounts/
Traceback (most recent call last):
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/banking_system/accounts/view/bank_account_management.py", line 38, in post
    serializer.save(user=request.user)
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/serializers.py", line 208, in save
    self.instance = self.create(validated_data)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/banking_system/accounts/serializers.py", line 64, in create
    tenant = Tenant.objects.get_or_create(**tenant_data)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/db/models/query.py", line 948, in get_or_create
    return self.get(**kwargs), False
           ^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/db/models/query.py", line 652, in get
    raise self.model.MultipleObjectsReturned(
accounts.models.Tenant.MultipleObjectsReturned: get() returned more than one Tenant -- it returned 2!
"POST /api/accounts/accounts/ HTTP/1.1" 500 19563
"GET /api/accounts/accounts/ HTTP/1.1" 200 983
Internal Server Error: /api/accounts/accounts/
Traceback (most recent call last):
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/banking_system/accounts/view/bank_account_management.py", line 38, in post
    serializer.save(user=request.user)
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/serializers.py", line 208, in save
    self.instance = self.create(validated_data)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/banking_system/accounts/serializers.py", line 65, in create
    bank_account.tenant = tenant
    ^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/db/models/fields/related_descriptors.py", line 287, in __set__
    raise ValueError(
ValueError: Cannot assign "(<Tenant: Tenant Name - MNK>, False)": "BankAccount.tenant" must be a "Tenant" instance.
"POST /api/accounts/accounts/ HTTP/1.1" 500 19166
Internal Server Error: /api/accounts/accounts/
Traceback (most recent call last):
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/banking_system/accounts/view/bank_account_management.py", line 38, in post
    serializer.save(user=request.user)
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/serializers.py", line 208, in save
    self.instance = self.create(validated_data)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/banking_system/accounts/serializers.py", line 65, in create
    bank_account.tenant = tenant
    ^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/db/models/fields/related_descriptors.py", line 287, in __set__
    raise ValueError(
ValueError: Cannot assign "(<Tenant: Tenant Name - MNK>, False)": "BankAccount.tenant" must be a "Tenant" instance.
"POST /api/accounts/accounts/ HTTP/1.1" 500 19166
/home/ubuntu/banking_system/accounts/serializers.py changed, reloading.
Watching for file changes with StatReloader
Internal Server Error: /api/accounts/accounts/
Traceback (most recent call last):
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/banking_system/accounts/view/bank_account_management.py", line 38, in post
    serializer.save(user=request.user)
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/serializers.py", line 208, in save
    self.instance = self.create(validated_data)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/banking_system/accounts/serializers.py", line 66, in create
    bank_account.tenant = tenant
    ^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/db/models/fields/related_descriptors.py", line 287, in __set__
    raise ValueError(
ValueError: Cannot assign "(<Tenant: Tenant Name - MNK>, False)": "BankAccount.tenant" must be a "Tenant" instance.
"POST /api/accounts/accounts/ HTTP/1.1" 500 19166
/home/ubuntu/banking_system/accounts/serializers.py changed, reloading.
Watching for file changes with StatReloader
Internal Server Error: /api/accounts/accounts/
Traceback (most recent call last):
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/banking_system/accounts/view/bank_account_management.py", line 38, in post
    serializer.save(user=request.user)
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/serializers.py", line 208, in save
    self.instance = self.create(validated_data)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/banking_system/accounts/serializers.py", line 68, in create
    bank_account.tenant = tenant
    ^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/db/models/fields/related_descriptors.py", line 287, in __set__
    raise ValueError(
ValueError: Cannot assign "(<Tenant: Tenant Name - MNK>, False)": "BankAccount.tenant" must be a "Tenant" instance.
"POST /api/accounts/accounts/ HTTP/1.1" 500 19166
/home/ubuntu/banking_system/accounts/serializers.py changed, reloading.
Watching for file changes with StatReloader
"POST /api/accounts/accounts/ HTTP/1.1" 201 131
"POST /api/accounts/accounts/ HTTP/1.1" 201 131
"GET /api/accounts/accounts/ HTTP/1.1" 200 1735
"POST /api/accounts/accounts/ HTTP/1.1" 201 131
"GET /api/accounts/accounts/ HTTP/1.1" 200 1867
"GET /api/accounts/transactions/history/ HTTP/1.1" 200 52
/home/ubuntu/banking_system/accounts/serializers.py changed, reloading.
Watching for file changes with StatReloader
/home/ubuntu/banking_system/accounts/view/transaction.py changed, reloading.
Watching for file changes with StatReloader
Not Found: /api/accounts/transactions/deposit/
"POST /api/accounts/transactions/deposit/ HTTP/1.1" 404 45
Not Found: /api/accounts/transactions/deposit/
"POST /api/accounts/transactions/deposit/ HTTP/1.1" 404 45
Not Found: /api/accounts/transactions/deposit/
"POST /api/accounts/transactions/deposit/ HTTP/1.1" 404 45
"GET /api/accounts/accounts/ HTTP/1.1" 200 1867
Not Found: /api/accounts/transactions/deposit/
"POST /api/accounts/transactions/deposit/ HTTP/1.1" 404 45
Not Found: /api/accounts/transactions/deposit/
"POST /api/accounts/transactions/deposit/ HTTP/1.1" 404 45
"POST /api/accounts/transactions/deposit/ HTTP/1.1" 200 32
"GET /api/accounts/docs/ HTTP/1.1" 200 4695
"GET /api/accounts/schema/ HTTP/1.1" 200 27402
Unauthorized: /api/accounts/transactions/deposit/
"POST /api/accounts/transactions/deposit/ HTTP/1.1" 401 58
"POST /api/accounts/transactions/deposit/ HTTP/1.1" 200 32
/home/ubuntu/banking_system/accounts/view/transaction.py changed, reloading.
Watching for file changes with StatReloader
"GET /api/accounts/docs/ HTTP/1.1" 200 4695
"GET /api/accounts/schema/ HTTP/1.1" 200 28529
"POST /api/accounts/transactions/withdraw/ HTTP/1.1" 200 35
"GET /api/accounts/transactions/history/ HTTP/1.1" 200 696
"GET /api/accounts/transactions/history/cached/ HTTP/1.1" 200 2
"GET /api/accounts/transactions/history/cached/ HTTP/1.1" 200 2
"GET /api/accounts/transactions/history/cached/ HTTP/1.1" 200 2
"GET /api/accounts/transactions/history/cached/?account=6 HTTP/1.1" 200 653
/home/ubuntu/banking_system/accounts/view/transaction.py changed, reloading.
Watching for file changes with StatReloader
/home/ubuntu/banking_system/accounts/view/transaction.py changed, reloading.
Watching for file changes with StatReloader
"GET /api/accounts/docs/ HTTP/1.1" 200 4695
"GET /api/accounts/schema/ HTTP/1.1" 200 28529
"GET /api/accounts/transactions/history/cached/?account=6 HTTP/1.1" 200 653
"GET /api/accounts/transactions/history/cached/ HTTP/1.1" 200 2
Unauthorized: /api/accounts/transactions/history/cached/
"GET /api/accounts/transactions/history/cached/?account=6 HTTP/1.1" 401 183
Unauthorized: /api/accounts/transactions/history/
"GET /api/accounts/transactions/history/ HTTP/1.1" 401 183
"POST /api/accounts/loginwithoutotp/ HTTP/1.1" 200 483
Unauthorized: /api/accounts/accounts/
"GET /api/accounts/accounts/ HTTP/1.1" 401 183
"GET /api/accounts/accounts/ HTTP/1.1" 200 240
"GET /api/accounts/transactions/history/cached/?account=6 HTTP/1.1" 200 653
"GET /api/accounts/transactions/history/cached/?account=22 HTTP/1.1" 200 646
"GET /api/accounts/transactions/history/cached/?account=22 HTTP/1.1" 200 646
/home/ubuntu/banking_system/accounts/view/transaction.py changed, reloading.
Watching for file changes with StatReloader
"GET /api/accounts/docs/ HTTP/1.1" 200 4695
"GET /api/accounts/schema/ HTTP/1.1" 200 28529
/home/ubuntu/banking_system/accounts/view/transaction.py changed, reloading.
Watching for file changes with StatReloader
"GET /api/accounts/docs/ HTTP/1.1" 200 4695
"GET /api/accounts/schema/ HTTP/1.1" 200 28529
Unauthorized: /api/accounts/transactions/history/cached/
"GET /api/accounts/transactions/history/cached/ HTTP/1.1" 401 58
/home/ubuntu/banking_system/accounts/serializers.py changed, reloading.
Watching for file changes with StatReloader
/home/ubuntu/banking_system/accounts/view/transaction.py changed, reloading.
Watching for file changes with StatReloader
"GET /api/accounts/docs/ HTTP/1.1" 200 4695
"GET /api/accounts/schema/ HTTP/1.1" 200 30245
"POST /api/accounts/transactions/transfer/ HTTP/1.1" 200 33
Not Found: /api/accounts/transactions/transfer/
"POST /api/accounts/transactions/transfer/ HTTP/1.1" 404 45
Not Found: /api/accounts/transactions/transfer/
"POST /api/accounts/transactions/transfer/ HTTP/1.1" 404 45
Not Found: /api/accounts/transactions/transfer/
"POST /api/accounts/transactions/transfer/ HTTP/1.1" 404 45
"GET /api/accounts/accounts/ HTTP/1.1" 200 240
"GET /api/accounts/transactions/history/ HTTP/1.1" 200 927
Bad Request: /api/accounts/transactions/transfer/
"POST /api/accounts/transactions/transfer/ HTTP/1.1" 400 35
"POST /api/accounts/transactions/transfer/ HTTP/1.1" 200 33
Internal Server Error: /api/accounts/transactions/transfer/
Traceback (most recent call last):
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/banking_system/accounts/view/transaction.py", line 76, in post
    amount = Decimal(request.data.get('amount'))  # Convert to Decimal
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
decimal.InvalidOperation: [<class 'decimal.ConversionSyntax'>]
"POST /api/accounts/transactions/transfer/ HTTP/1.1" 500 18619
"POST /api/accounts/transactions/transfer/ HTTP/1.1" 200 33
/home/ubuntu/banking_system/accounts/view/transaction.py changed, reloading.
Watching for file changes with StatReloader
/home/ubuntu/banking_system/accounts/view/transaction.py changed, reloading.
Watching for file changes with StatReloader
"GET /api/accounts/docs/ HTTP/1.1" 200 4695
"GET /api/accounts/schema/ HTTP/1.1" 200 31380
"POST /api/accounts/transactions/external-transfer/ HTTP/1.1" 200 33
/home/ubuntu/banking_system/accounts/view/user_account_management.py changed, reloading.
Watching for file changes with StatReloader
Internal Server Error: /api/accounts/users/update-timezone/
Traceback (most recent call last):
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/banking_system/accounts/view/user_account_management.py", line 106, in post
    print(timzezone)
          ^^^^^^^^^
NameError: name 'timzezone' is not defined. Did you mean: 'timezone'?
"POST /api/accounts/users/update-timezone/ HTTP/1.1" 500 91061
/home/ubuntu/banking_system/accounts/view/user_account_management.py changed, reloading.
Watching for file changes with StatReloader
"POST /api/accounts/users/update-timezone/ HTTP/1.1" 200 44
/home/ubuntu/banking_system/accounts/serializers.py changed, reloading.
Watching for file changes with StatReloader
/home/ubuntu/banking_system/accounts/view/user_account_management.py changed, reloading.
Watching for file changes with StatReloader
"GET /api/accounts/docs/ HTTP/1.1" 200 4695
"GET /api/accounts/schema/ HTTP/1.1" 200 32803
"POST /api/accounts/users/update-timezone/ HTTP/1.1" 200 44
"POST /api/accounts/users/update-timezone/ HTTP/1.1" 200 44
/home/ubuntu/banking_system/accounts/serializers.py changed, reloading.
Watching for file changes with StatReloader
/home/ubuntu/banking_system/accounts/view/user_account_management.py changed, reloading.
Watching for file changes with StatReloader
"GET /api/accounts/docs/ HTTP/1.1" 200 4695
"GET /api/accounts/schema/ HTTP/1.1" 200 34201
/home/ubuntu/banking_system/accounts/serializers.py changed, reloading.
Watching for file changes with StatReloader
"GET /api/accounts/docs/ HTTP/1.1" 200 4695
"GET /api/accounts/schema/ HTTP/1.1" 200 34321
Bad Request: /api/accounts/verify-otp/
"POST /api/accounts/verify-otp/ HTTP/1.1" 400 34
Not Found: /api/accounts/verify-otp/
"POST /api/accounts/verify-otp/ HTTP/1.1" 404 26
Forbidden: /api/accounts/admin/reports/
Not Found: /api/accounts/transactions/transfer/
"POST /api/accounts/loginwithoutotp/ HTTP/1.1" 200 483
Internal Server Error: /api/accounts/permissions/
Traceback (most recent call last):
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/banking_system/accounts/view/user_role_management.py", line 68, in get
    permissions = Permission.objects.all()
                  ^^^^^^^^^^
NameError: name 'Permission' is not defined. Did you mean: 'permissions'?
"GET /api/accounts/permissions/ HTTP/1.1" 500 91368
/home/ubuntu/banking_system/accounts/view/user_role_management.py changed, reloading.
Watching for file changes with StatReloader
/home/ubuntu/banking_system/accounts/view/user_role_management.py changed, reloading.
Watching for file changes with StatReloader
"GET /api/accounts/docs/ HTTP/1.1" 200 4695
"GET /api/accounts/schema/ HTTP/1.1" 200 34321
Unauthorized: /api/accounts/roles/
"GET /api/accounts/roles/ HTTP/1.1" 401 58
"GET /api/accounts/roles/ HTTP/1.1" 200 121
Unauthorized: /api/accounts/roles/
"GET /api/accounts/roles/ HTTP/1.1" 401 183
"GET /api/accounts/roles/ HTTP/1.1" 200 121
Unauthorized: /api/accounts/roles/
"GET /api/accounts/roles/ HTTP/1.1" 401 183
"GET /api/accounts/roles/ HTTP/1.1" 200 121
"DELETE /api/accounts/roles/ HTTP/1.1" 200 58
"POST /api/accounts/roles/assign/ HTTP/1.1" 200 67
Unauthorized: /api/accounts/roles/assign/
"POST /api/accounts/roles/assign/ HTTP/1.1" 401 58
"POST /api/accounts/roles/assign/ HTTP/1.1" 200 67
"DELETE /api/accounts/roles/assign/ HTTP/1.1" 200 68
"POST /api/accounts/roles/assign/ HTTP/1.1" 200 67
"GET /api/accounts/admin/reports/ HTTP/1.1" 200 508
"GET /api/accounts/admin/reports/ HTTP/1.1" 200 508
"POST /api/accounts/roles/ HTTP/1.1" 201 32
/home/ubuntu/banking_system/accounts/serializers.py changed, reloading.
Watching for file changes with StatReloader
/home/ubuntu/banking_system/accounts/serializers.py changed, reloading.
Watching for file changes with StatReloader
/home/ubuntu/banking_system/accounts/view/user_role_management.py changed, reloading.
Watching for file changes with StatReloader
/home/ubuntu/banking_system/accounts/view/user_role_management.py changed, reloading.
Watching for file changes with StatReloader
/home/ubuntu/banking_system/accounts/view/user_role_management.py changed, reloading.
Watching for file changes with StatReloader
"GET /api/accounts/docs/ HTTP/1.1" 200 4695
"GET /api/accounts/schema/ HTTP/1.1" 200 34321
Watching for file changes with StatReloader
"GET /api/accounts/docs/ HTTP/1.1" 200 4695
"GET /api/accounts/schema/ HTTP/1.1" 200 34321
/home/ubuntu/banking_system/accounts/view/user_role_management.py changed, reloading.
Watching for file changes with StatReloader
"GET /api/accounts/docs/ HTTP/1.1" 200 4695
"GET /api/accounts/schema/ HTTP/1.1" 200 36173
"POST /api/accounts/login/ HTTP/1.1" 200 36
"POST /api/accounts/loginwithoutotp/ HTTP/1.1" 200 483
"GET /api/accounts/roles/ HTTP/1.1" 200 121
"POST /api/accounts/roles/ HTTP/1.1" 201 27
"GET /api/accounts/roles/ HTTP/1.1" 200 149
Not Found: /api/accounts/roles/
"DELETE /api/accounts/roles/ HTTP/1.1" 404 35
/home/ubuntu/banking_system/accounts/view/user_role_management.py changed, reloading.
Watching for file changes with StatReloader
/home/ubuntu/banking_system/accounts/view/user_role_management.py changed, reloading.
Watching for file changes with StatReloader
/home/ubuntu/banking_system/accounts/view/user_role_management.py changed, reloading.
Watching for file changes with StatReloader
/home/ubuntu/banking_system/accounts/view/user_role_management.py changed, reloading.
Watching for file changes with StatReloader
"GET /api/accounts/docs/ HTTP/1.1" 200 4695
"GET /api/accounts/schema/ HTTP/1.1" 200 36421
"POST /api/accounts/loginwithoutotp/ HTTP/1.1" 200 483
/home/ubuntu/banking_system/accounts/view/user_role_management.py changed, reloading.
Watching for file changes with StatReloader
/home/ubuntu/banking_system/accounts/view/user_role_management.py changed, reloading.
Watching for file changes with StatReloader
"GET /api/accounts/docs/ HTTP/1.1" 200 4695
"GET /api/accounts/schema/ HTTP/1.1" 200 37745
/home/ubuntu/banking_system/accounts/serializers.py changed, reloading.
Watching for file changes with StatReloader
/home/ubuntu/banking_system/accounts/view/user_role_management.py changed, reloading.
Watching for file changes with StatReloader
"GET /api/accounts/docs/ HTTP/1.1" 200 4695
"GET /api/accounts/schema/ HTTP/1.1" 200 37745
Unauthorized: /api/accounts/roles/
"DELETE /api/accounts/roles/ HTTP/1.1" 401 58
/home/ubuntu/banking_system/accounts/view/user_role_management.py changed, reloading.
Watching for file changes with StatReloader
/home/ubuntu/banking_system/accounts/view/user_role_management.py changed, reloading.
Watching for file changes with StatReloader
/home/ubuntu/banking_system/accounts/urls.py changed, reloading.
Watching for file changes with StatReloader
/home/ubuntu/banking_system/accounts/urls.py changed, reloading.
Watching for file changes with StatReloader
"GET /api/accounts/docs/ HTTP/1.1" 200 4695
"GET /api/accounts/schema/ HTTP/1.1" 200 38297
/home/ubuntu/banking_system/accounts/urls.py changed, reloading.
Watching for file changes with StatReloader
/home/ubuntu/banking_system/accounts/view/user_role_management.py changed, reloading.
Watching for file changes with StatReloader
"GET /api/accounts/docs/ HTTP/1.1" 200 4695
"GET /api/accounts/schema/ HTTP/1.1" 200 36173
/home/ubuntu/banking_system/accounts/serializers.py changed, reloading.
Watching for file changes with StatReloader
/home/ubuntu/banking_system/accounts/view/user_role_management.py changed, reloading.
Watching for file changes with StatReloader
"GET /api/accounts/docs/ HTTP/1.1" 200 4695
"GET /api/accounts/schema/ HTTP/1.1" 200 37782
"POST /api/accounts/loginwithoutotp/ HTTP/1.1" 200 483
"GET /api/accounts/roles/ HTTP/1.1" 200 149
"POST /api/accounts/roles/assign/ HTTP/1.1" 200 67
Not Found: /api/accounts/roles/assign/
"DELETE /api/accounts/roles/assign/ HTTP/1.1" 404 35
"GET /api/accounts/admin/reports/ HTTP/1.1" 200 508
/home/ubuntu/banking_system/accounts/view/user_account_management.py changed, reloading.
Watching for file changes with StatReloader
"GET /api/accounts/docs/ HTTP/1.1" 200 4695
"GET /api/accounts/schema/ HTTP/1.1" 200 37782
Unauthorized: /api/accounts/accounts/batch-create/
"POST /api/accounts/accounts/batch-create/ HTTP/1.1" 401 58
/home/ubuntu/banking_system/accounts/view/user_role_management.py changed, reloading.
Watching for file changes with StatReloader
"GET /api/accounts/docs/ HTTP/1.1" 200 4695
"GET /api/accounts/schema/ HTTP/1.1" 200 37782
Unauthorized: /api/accounts/permissions/
"GET /api/accounts/permissions/ HTTP/1.1" 401 58
"POST /api/accounts/loginwithoutotp/ HTTP/1.1" 200 483
Internal Server Error: /api/accounts/permissions/
Traceback (most recent call last):
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/banking_system/accounts/view/user_role_management.py", line 74, in get
    serializer = PermissionSerializer(permissions, many=True)
                 ^^^^^^^^^^^^^^^^^^^^
NameError: name 'PermissionSerializer' is not defined. Did you mean: 'RoleAssignSerializer'?
"GET /api/accounts/permissions/ HTTP/1.1" 500 92846
/home/ubuntu/banking_system/accounts/view/user_role_management.py changed, reloading.
Watching for file changes with StatReloader
"GET /api/accounts/permissions/ HTTP/1.1" 200 3006
/home/ubuntu/banking_system/accounts/view/user_role_management.py changed, reloading.
Watching for file changes with StatReloader
/home/ubuntu/banking_system/accounts/serializers.py changed, reloading.
Watching for file changes with StatReloader
Not Found: /api/accounts/permission/
"GET /api/accounts/permission/ HTTP/1.1" 404 7621
Unauthorized: /api/accounts/permissions/
"GET /api/accounts/permissions/ HTTP/1.1" 401 183
"POST /api/accounts/loginwithoutotp/ HTTP/1.1" 200 483
"GET /api/accounts/roles/ HTTP/1.1" 200 149
Unauthorized: /api/accounts/permissions/
"GET /api/accounts/permissions/ HTTP/1.1" 401 183
"GET /api/accounts/permissions/ HTTP/1.1" 200 3006
Not Found: /api/accounts/permissions/assign/
"POST /api/accounts/permissions/assign/ HTTP/1.1" 404 7646
/home/ubuntu/banking_system/accounts/urls.py changed, reloading.
Watching for file changes with StatReloader
/home/ubuntu/banking_system/accounts/urls.py changed, reloading.
Watching for file changes with StatReloader
Internal Server Error: /api/accounts/permissions/assign/
Traceback (most recent call last):
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/home/ubuntu/venv/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ubuntu/banking_system/accounts/view/user_role_management.py", line 86, in post
    serializer = PermissionAssignSerializer(data=request.data)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^
NameError: name 'PermissionAssignSerializer' is not defined. Did you mean: 'PermissionSerializer'?
"POST /api/accounts/permissions/assign/ HTTP/1.1" 500 91146
/home/ubuntu/banking_system/accounts/view/user_role_management.py changed, reloading.
Watching for file changes with StatReloader
Bad Request: /api/accounts/permissions/assign/
"POST /api/accounts/permissions/assign/ HTTP/1.1" 400 135
"GET /api/accounts/permissions/ HTTP/1.1" 200 3006
Bad Request: /api/accounts/permissions/assign/
"POST /api/accounts/permissions/assign/ HTTP/1.1" 400 135
"POST /api/accounts/permissions/assign/ HTTP/1.1" 200 77
"POST /api/accounts/permissions/assign/ HTTP/1.1" 200 77
"DELETE /api/accounts/permissions/assign/ HTTP/1.1" 200 78
"DELETE /api/accounts/permissions/assign/ HTTP/1.1" 200 78
"GET /api/accounts/docs/ HTTP/1.1" 200 4695
"GET /api/accounts/schema/ HTTP/1.1" 200 38920
"GET /api/accounts/permissions/ HTTP/1.1" 200 3006
/home/ubuntu/banking_system/accounts/view/user_role_management.py changed, reloading.
Watching for file changes with StatReloader
"GET /api/accounts/docs/ HTTP/1.1" 200 4695
"GET /api/accounts/schema/ HTTP/1.1" 200 40926
"POST /api/accounts/permissions/assign/ HTTP/1.1" 200 77
"GET /api/accounts/transactions/history/cached/ HTTP/1.1" 200 2
Forbidden: /api/accounts/admin/reports/
Not Found: /api/accounts/transactions/transfer/
/home/ubuntu/banking_system/accounts/view/user_role_management.py changed, reloading.
Watching for file changes with StatReloader
"GET /api/accounts/docs/ HTTP/1.1" 200 4695
"GET /api/accounts/schema/ HTTP/1.1" 200 40926
/home/ubuntu/banking_system/accounts/view/user_role_management.py changed, reloading.
Watching for file changes with StatReloader
"POST /api/accounts/login/ HTTP/1.1" 200 36
